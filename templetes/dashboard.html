
<!doctype html>

<html lang="en"> 

 <head> 

  <meta charset="UTF-8"> 

  <title>Questions</title> 

  <link rel="stylesheet" href="dash.css">

 </head> 

 <body> <!-- partial:index.partial.html --> 

  <section> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> <span></span> 

   <div class="signin"> 

    <div class="content"> 

     <h2>Q.2] how much is your study hours ?</h2> 

     <div class="form"> 

      <div class="inputBox"> 

       <input type="range" id ="study-hours" min="0" max="24" step="1" required> <i style="top:-30px; color:#0f0; font-size:20px">(Slide to select hours, Range: 0-24 )</i> 

       <span style="background-color:chartreuse;
       border: 1px solid white;
       width:10%;
       height:50%
        " 
       id="study-hours-value">0 hours</span>
        
      </div> 

    </div> 

   </div> 

</div>


  

<!-- Q.2 -->

<div class="signin1"> 

    <div class="content1"> 

     <h2>Q.1] what is your learning style ? </h2>   
     <!-- <label> Short Description on learning style </label> --> 

     <div class="form1"> 

      <div class="inputBox1"> 

        <input type="text" list="learning-styles" id="learning-style" required>
     <datalist id="learning-styles">
        
      <option value="Visual learner"> (learn best through pictures , graph diagram)</option>
      <option value="Auditory learners"> (learn best through listening lectures and explanations)</option>
      <option value="kinesthetic learners"> (learn best through physical activities)</option>
      <option value="Read/Write learners"> (learn best through by reading or writing notes)</option>
      <option value="Logic learners"> (learn best through patterns,logic and problem solving)</option>
      <option value="Social learners">(learn best through interaction and collabrations )</option>
      <option value="Solitary learners"> (prefer to learn alone,focusing on own pace and interest )</option>

     </datalist>   
      </div> 

    
    </div> 

   </div> 

</div>
<!-- Q2 -->

<!-- Q5 -->
<div class="signin4"> 

  <div class="content4"> 

   <h2>Q.3] How much is your screen time ?</h2> 

   <div class="form4"> 

    <div class="inputBox4"> 

     <input type="range"  id ="screen-time" min="0" max="24" step="1" required> <i style="top:-30px; color:#0f0; font-size:20px">( Slide to select hours, Range: 0-24 )</i> 

     <span style="background-color:chartreuse;
     border: 1px solid white;
     width:10%;
     height:50%
      " id="screen-time-value">0 hours</span>
    </div> 

  </div> 

 </div> 

</div>
<!-- Q5 -->

<!-- Q6 -->
<div class="signin5"> 

  <div class="content5"> 

   <h2>Q.4] how much is your sleeping hours ?</h2> 

   <div class="form5"> 

    <div class="inputBox5"> 

     <input type="range"  id ="sleep-hours" min="0" max="24" step="1" required> <i style=" color:#0f0; font-size:20px">( Slide to select hours, Range: 0-24 )</i> 

     <span style="background-color:chartreuse;
     border: 1px solid white;
     width:10%;
     height:50%;
     top:-90px;
     
    " id="sleep-hours-value">0 hours</span>

    </div> 

  </div> 

 </div> 

</div>
<!-- Q6 -->
<!-- Q3 -->
<div class="signin2"> 

  <div class="content2"> 

   <h2>Q.5] what is your current engineering semester ?</h2> 

   <div class="form2"> 

    <div class="inputBox2"> 
      <input list="study1" id="current-sem">
      <datalist id="study1">
         
       <option value="1">First Semester</option>
       <option value="2">Second Semester</option>
       <option value="3">Third Semester</option>
       <option value="4">Forth Semester</option>
       <option value="5">Fifth Semester</option>
       <option value="6">Sixth Semester</option>
       <option value="7">Seventh Semester</option>
       <option value="8">Eighth Semester</option>

      </datalist>   
    </div> 

  </div> 

 </div> 

</div>
<!-- Q3 -->

<!-- Q4 -->
<div class="signin3"> 

  <div class="content3"> 

   <h2>Q.6] Do you currently have any previous semester kt's? </h2>   
   

   <div class="form3"> 

    <div class="inputBox3"> 
      <label style="color: #0f0; font-size:25px;">
      <input type="checkbox" class="prev-kt" id="prev-kt-yes" value="Yes">
      Yes, I have current kt's from previous semesters
    </label>
    <br>
    <label style="color: #0f0; font-size:25px; ">
      <input type="checkbox" class="prev-kt" id="prev-kt-no" value="No">
      No, I don't have any current kt's from previous semesters
    </label>
    </div>  

  
  </div> 

 </div> 

</div>

<!-- submit button -->

<div class="signin7"> -

  <div class="content7"> 

   <div class="form7"> 

    <div class="inputBox7"> 
       
      <a href="">
     <input type="submit" value="SUBMIT" id="submit-button"> 
    </a>
    
    </div> 

   </div> 

  </div> 

 </div> 

 <!-- submit button -->
<!-- Q4 -->
  </section>
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-analytics.js";
    import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-auth.js";
    import { getFirestore, collection, setDoc,doc, updateDoc } from "https://www.gstatic.com/firebasejs/10.9.0/firebase-firestore.js";
    
    
    const firebaseConfig = {
      apiKey: "AIzaSyCpFl0lAVKcKrg5gCzlz2RuQ3zt7xCY_dc",
      authDomain: "student-performance-pred-f6c38.firebaseapp.com",
      projectId: "student-performance-pred-f6c38",
      storageBucket: "student-performance-pred-f6c38.appspot.com",
      messagingSenderId: "563801963757",
      appId: "1:563801963757:web:e96ecb591d2820986160e4",
      measurementId: "G-6Z11YCS39Q"
    };
  

    
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth();
    const db = getFirestore(app);
   
    const submitForm = async () => {
       event.preventDefault();
       const user = auth.currentUser;

        if (!user) {
            console.log("No user signed in");
            return;
        }
        const studyHours = document.getElementById('study-hours').value;
        const learningStyle = document.getElementById('learning-style').value;
        const screenTime = document.getElementById('screen-time').value;
        const sleepingHours = document.getElementById('sleep-hours').value;
        const semester = document.getElementById('current-sem').value;
        const previousKtsYes = document.getElementById('prev-kt-yes').checked;
        const previousKtsNo = document.getElementById('prev-kt-no').checked;
        let previouskts='';
        if (previousKtsYes) { 
            previouskts= 'Yes';
        } else if (previousKtsNo){
            previouskts= 'No';
        }else {
        // Handle case where neither checkbox is checked
        alert('Please select whether you have previous semester kt\'s');
        return;
      }
   

      try {
           
            const userDocRef = doc(db, 'users', user.uid);
            await updateDoc(userDocRef, {
                studyHours: studyHours,
                learningStyle: learningStyle,
                screenTime: screenTime,
                sleepingHours: sleepingHours,
                semester: semester,
                previousKts: previouskts
            });
            if (previouskts === 'Yes') {
        window.location.href = "kt.html";
            }else if(previouskts==='No'){
              window.location.href="NonKT.html";
    } else {
                alert('Form submitted successfully!');
    }
        } catch (error) {
            console.error('User input error:', error.message);
            alert('Error: ' + error.message);
        }
        
    };

      // Add an event listener to update the slider value display
  const ScreenTimeSlider = document.getElementById('screen-time');
  const ScreenTimeValue = document.getElementById('screen-time-value');
  const SleepHourSlider = document.getElementById('sleep-hours');
  const SleepHourValue = document.getElementById('sleep-hours-value');
  const studyHoursSlider = document.getElementById('study-hours');
  const studyHoursValue = document.getElementById('study-hours-value');

 SleepHourSlider.addEventListener('change', function() {
    // Update the value display
    
    SleepHourValue.textContent = this.value;
  
  });

  ScreenTimeSlider.addEventListener('change', function() {
    // Update the value display
    
    ScreenTimeValue.textContent = this.value;
  });

  studyHoursSlider.addEventListener('change', function() {
    // Update the value display
    studyHoursValue.textContent = this.value;
   
  });


  
  // Add event listeners to checkboxes to ensure only one can be selected
  const prevKtCheckboxes = document.querySelectorAll('.prev-kt');
  prevKtCheckboxes.forEach(checkbox => {
    checkbox.addEventListener('change', function() {
      if (this.checked) {
        prevKtCheckboxes.forEach(otherCheckbox => {
          if (otherCheckbox !== this) {
            otherCheckbox.checked = false;
          }
        });
      }
    });
  });


   
  onAuthStateChanged(auth, (user) => {
            if (user) {
                // User is signed in, get the user ID
                const userId = user.uid;

                // Add event listener to submit button
                document.getElementById('submit-button').addEventListener('click', () => {
                    // Call function to submit form with user ID
                    submitForm();
                });
            } else {
                // No user is signed in
                console.log("No user signed in");
            }
        });

 </script>
</body>
    </html>
  